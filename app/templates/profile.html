{% extends "base.html" %}

{% block content %}
<h2 style="margin-bottom: 30px;">üë§ My Profile</h2>

<div class="card">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
        <div>
            <h3>{{ user.full_name }}</h3>
            <p style="color: #666;">@{{ user.username }}</p>
        </div>
        <div style="text-align: center;">
            <div style="font-size: 2.5rem; color: #e74c3c; font-weight: bold;">{{ user.incoscore }}</div>
            <div style="color: #666;">InCoScore</div>
        </div>
    </div>
    
    <form method="POST" action="{{ url_for('auth.update_profile') }}">
        <h3 style="margin-bottom: 15px;">Basic Information</h3>
        
        <div class="form-group">
            <label for="full_name">Full Name</label>
            <input type="text" id="full_name" name="full_name" value="{{ user.full_name }}">
        </div>
        
        <div class="form-group">
            <label for="email">Email</label>
            <input type="email" value="{{ user.email }}" disabled style="background: #f0f0f0;">
        </div>
        
        <div class="form-group">
            <label for="domain">Domain</label>
            <select id="domain" name="domain">
                <option value="Artificial Intelligence" {% if user.domain == "Artificial Intelligence" %}selected{% endif %}>Artificial Intelligence</option>
                <option value="Computer Science" {% if user.domain == "Computer Science" %}selected{% endif %}>Computer Science</option>
                <option value="Engineering" {% if user.domain == "Engineering" %}selected{% endif %}>Engineering</option>
                <option value="Law" {% if user.domain == "Law" %}selected{% endif %}>Law</option>
                <option value="Biomedical" {% if user.domain == "Biomedical" %}selected{% endif %}>Biomedical</option>
                <option value="Economics" {% if user.domain == "Economics" %}selected{% endif %}>Economics</option>
                <option value="Physics" {% if user.domain == "Physics" %}selected{% endif %}>Physics</option>
                <option value="Chemistry" {% if user.domain == "Chemistry" %}selected{% endif %}>Chemistry</option>
                <option value="Mathematics" {% if user.domain == "Mathematics" %}selected{% endif %}>Mathematics</option>
                <option value="Other" {% if user.domain == "Other" %}selected{% endif %}>Other</option>
            </select>
        </div>
        
        <div class="form-group">
            <label for="skills">Skills (comma-separated)</label>
            <input type="text" id="skills" name="skills" value="{{ user.skills or '' }}" placeholder="Python, Machine Learning, Data Science">
        </div>
        
        <div class="form-group">
            <label for="interests">Interests</label>
            <textarea id="interests" name="interests" rows="3">{{ user.interests or '' }}</textarea>
        </div>
        
        <div class="form-group">
            <label for="academic_background">Academic Background</label>
            <textarea id="academic_background" name="academic_background" rows="3">{{ user.academic_background or '' }}</textarea>
        </div>
        
        <h3 style="margin: 30px 0 15px 0;">üèÜ Achievements (for InCoScore Calculation)</h3>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
            <div class="form-group">
                <label for="hackathons_count">Hackathons Participated</label>
                <input type="number" id="hackathons_count" name="hackathons_count" value="{{ user.hackathons_count }}" min="0">
            </div>
            
            <div class="form-group">
                <label for="internships_count">Internships Completed</label>
                <input type="number" id="internships_count" name="internships_count" value="{{ user.internships_count }}" min="0">
            </div>
            
            <div class="form-group">
                <label for="research_papers_count">Research Papers Published</label>
                <input type="number" id="research_papers_count" name="research_papers_count" value="{{ user.research_papers_count }}" min="0">
            </div>
            
            <div class="form-group">
                <label for="coding_score">Coding Score (0-1000)</label>
                <input type="number" id="coding_score" name="coding_score" value="{{ user.coding_score }}" min="0" max="1000" step="0.1">
            </div>
            
            <div class="form-group">
                <label for="competition_wins">Competition Wins</label>
                <input type="number" id="competition_wins" name="competition_wins" value="{{ user.competition_wins }}" min="0">
            </div>
        </div>
        
        <button type="submit" class="btn btn-success" style="margin-top: 30px; width: 100%; padding: 15px;">
            üíæ Update Profile & Recalculate InCoScore
        </button>
    </form>
</div>
{% endblock %}
